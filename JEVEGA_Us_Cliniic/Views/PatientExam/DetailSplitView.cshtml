@model JEVEGA_Us_Cliniic.PatientExam
@{
    ViewBag.Title = "Sign Medical Report Split View";
    Layout = "~/Views/Shared/Layout_inner_page.cshtml";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<script>

    $(document).ready(function () {

        $('#zoom1').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile01');
            }
        });

        $('#zoom2').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile02');
            }
        });

        $('#zoom3').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile03');
            }
        });

        $('#zoom4').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile04');
            }
        });

        $('#zoom5').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile05');
            }
        });

        $('#zoom6').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile06');
            }
        });

        $('#zoom7').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile07');
            }
        });

        $('#zoom8').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile08');
            }
        });

        $('#zoom9').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile09');
            }
        });

        $('#zoom10').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile10');
            }
        });

        $('#zoom11').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile11');
            }
        });

        $('#zoom12').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile12');
            }
        });

        $('#zoom13').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile13');
            }
        });

        $('#zoom14').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile14');
            }
        });

        $('#zoom15').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile15');
            }
        });

        $('#zoom16').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile16');
            }
        });

         $('#zoom17').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile17');
            }
        });

         $('#zoom18').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile18');
            }
        });

         $('#zoom19').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile19');
            }
        });

         $('#zoom20').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile20');
            }
        });

        $('#zoom21').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile21');
            }
        });
        $('#zoom22').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile22');
            }
        });
        $('#zoom23').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile23');
            }
        });
        $('#zoom24').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile24');
            }
        });
        $('#zoom25').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile25');
            }
        });
        $('#zoom26').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile26');
            }
        });
        $('#zoom27').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile27');
            }
        });
        $('#zoom28').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile28');
            }
        });
        $('#zoom29').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile29');
            }
        });
        $('#zoom30').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile30');
            }
        });
        $('#zoom31').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile31');
            }
        });
        $('#zoom32').on({
            'click': function () {
                $('#examimage').attr('src', '/ExamImages/@ViewBag.imageFile32');
            }
        });

    });

</script>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width:840px;">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Exam Images : @Model.getPatientName | @Model.ExamId</h4>
            </div>
            <div class="modal-body"><img id="examimage" src="" class="" /></div>
        </div>
    </div>
</div>

<table class="table_clinic_pageheader">
    <tr>
        <td><h3>Patient Exam Details</h3></td>
        <td align="right"></td>
    </tr>
</table>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <table class="table table-bordered">
    <tr>
        <td align="right">
            <input type="button" value="Back To List" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("Index", "PatientExam", new { mo=ViewBag.EditMonth, yr=ViewBag.EditYear }) + "'");" />
            &nbsp;
            @if (Model.ExamReport != null)
            {<input type="button" value="Print Report" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("PrintExamReport\\"+Model.Id, "PatientExam") + "'");" />}
            &nbsp;
            <input type="button" value="Print Images" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("PrintExamImages\\"+Model.Id, "PatientExam") + "'");" />
            &nbsp;
            <input type="button" value="Send to Radiologist" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("SendExamToRadiologist\\"+Model.Id, "PatientExam") + "'");" />
            &nbsp;
            @if (ViewBag.ExamImagesExist)
            {<input type="button" value="Send to OB Doctor" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("SendExamToOBDoctor\\" + Model.Id, "PatientExam") + "'");" />}
            &nbsp;
            <input type="button" value="Load Template" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("InitialReport", "PatientExam", new { id=Model.Id }) + "'");" />
            &nbsp;
            <input type="button" value="Normal View" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("Details", "PatientExam", new { id=Model.Id, split_view="ON" }) + "'");" />
        </td>
    </tr>
    </table>

    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.Id)

        <table class="table_clinic">
            <tr>
                <td><span class="report_fieldvalue_01">@Html.LabelFor(model => model.ExamDate)</span></td>
                <td>
                    <span class="report_fieldvalue_01">@Html.DisplayFor(model => model.ExamDate)</span>
                </td>
                <td><span class="report_fieldvalue_01">@Html.LabelFor(model => model.ExamId)</span></td>
                <td><span class="report_fieldvalue_01">@Html.DisplayFor(model => model.ExamId)</span></td>
                <td rowspan="6" align="right" valign="top">
                    <img src="~/images/patient_info_icon.png" alt="Patient Info" class="img-responsive hand_cursor" onclick="@("window.location.href='" + @Url.Action("Details", "PatientData", new { id=ViewBag.PatientInfoId }) + "'");" />
                </td>
            </tr>
            <tr><td colspan="4"><div class="line_space"></div></td></tr>
            <tr>
                <td><span class="report_fieldvalue_01">@Html.LabelFor(model => model.PatientID)</span></td>
                <td><span class="report_fieldvalue_01">@Html.DisplayFor(model => model.getPatientIdName)</span></td>

                <td><span class="report_fieldvalue_01">@Html.LabelFor(model => model.ExamType)</span></td>
                <td><span class="report_fieldvalue_01">@Html.DisplayFor(model => model.getExamName)</span></td>
            </tr>
            <tr><td colspan="4"><div class="line_space"></div></td></tr>
            <tr>
                <td><span class="report_fieldvalue_01">Age</span></td>
                <td><span class="report_fieldvalue_01">@ViewBag.PatientAge</span></td>

                <td><span class="report_fieldvalue_01">Marital Status</span></td>
                <td><span class="report_fieldvalue_01">@ViewBag.PatientStatus</span></td>
            </tr>

            <tr>
                <td><span class="report_fieldvalue_01">@Html.LabelFor(model => model.Radiologist)</span></td>
                <td><span class="report_fieldvalue_01">@Html.DisplayFor(model => model.getDoctorName)</span></td>

                <td><span class="report_fieldvalue_01">@Html.LabelFor(model => model.Sonographer)</span></td>
                <td><span class="report_fieldvalue_01">@Html.DisplayFor(model => model.getSonographerName)</span></td>
            </tr>
            <tr><td colspan="4"><div class="div_space20"></div></td></tr>

            <tr><td colspan="5"><span class="report_fieldvalue_01"><b>History:</b></span></td></tr>
            <tr><td colspan="5"><div class="line_space"></div></td></tr>
            <tr>
                <td colspan="5">
                    <textarea class="text_form_value" readonly style="width:100%" rows="4">@Html.DisplayFor(model => model.History)</textarea>
                </td>
            </tr>
            <tr><td colspan="5"><div class="div_space20"></div></td></tr>
        </table>

        <div class="div_space20"></div>
        <div class="row">
            <div class="col-lg-6">
            <table class="table_clinic">
                <tr>
                    <td colspan="4"><span class="report_fieldvalue_01">Diagnostic Report:</span></td>
                </tr>
                <tr><td colspan="4"><div class="line_space"></div></td></tr>
                <tr>
                    <td colspan="4">
                        <textarea class="text_form_value split_rdiv3" readonly style="width:100%">@Html.DisplayFor(model => model.ExamReport)</textarea>
                    </td>
                </tr>
            </table>
            </div>

            <div class="col-lg-6 split_rdiv2">

                @{
                    string[] listOfUsoundImages = ViewBag.ListUsoundImages;
                    int countOfImages = listOfUsoundImages.Length;
                    int imgIndex = 0;
                    for (int i = 0; i < countOfImages; i++)
                    {
                        imgIndex = imgIndex + 1;
                        string imageId = "zoom" + imgIndex.ToString();

                        if (listOfUsoundImages[i].Length != 0) { 
                            <div class="div_space20"></div>
                            <div>
                                <span class="report_fieldvalue_01">Image @imgIndex</span> <div style="float:right"><img src="~/images/zoom_icon.png" id=@imageId data-toggle="modal" data-target="#myModal" class="hand_cursor" border="0" /></div>
                                <br />
                                <div class="div_space20"></div>
                                <img src="~/ExamImages/@listOfUsoundImages[i]" class="img-responsive " />
                            </div>  
                        }
                    }
                }

            </div>
        </div>

        <div class="line_space"></div>
        <table class="table table-bordered">
        <tr>
            <td>
                <input type="button" value="Back To List" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("Index", "PatientExam", new { mo=ViewBag.EditMonth, yr=ViewBag.EditYear }) + "'");" />
                &nbsp;
                @if (Model.ExamReport != null)
                {<input type="button" value="Print Report" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("PrintExamReport\\"+Model.Id, "PatientExam") + "'");" />}
                &nbsp;
                <input type="button" value="Print Images" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("PrintExamImages\\"+Model.Id, "PatientExam") + "'");" />
                &nbsp;
                <input type="button" value="Send to Radiologist" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("SendExamToRadiologist\\"+Model.Id, "PatientExam") + "'");" />
                &nbsp;
                @if (ViewBag.ExamImagesExist)
                {<input type="button" value="Send to OB Doctor" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("SendExamToOBDoctor\\" + Model.Id, "PatientExam") + "'");" />}
                &nbsp;
                <input type="button" value="Normal View" class="btn btn-default" onclick="@("window.location.href='" + @Url.Action("Details", "PatientExam", new { id=Model.Id, split_view="ON" }) + "'");" />
            </td>
        </tr>
        </table>

    </div>
}
